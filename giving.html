<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giving - Diet of the Word Church</title>
    <meta name="description" content="Support the ministry of Diet of the Word Church through your generous giving. Multiple giving options available.">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1e40af',
                        secondary: '#dc2626',
                        accent: '#f59e0b'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <!-- Skip to Content for Accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only absolute top-2 left-2 z-50 bg-blue-700 text-white px-4 py-2 rounded shadow-lg transition-all duration-200">Skip to Content</a>
    <!--#include virtual="components/header.html" -->

    <!-- HERO SECTION: Modern, Professional, Interactive -->
    <section class="relative bg-gradient-to-br from-blue-800 via-purple-700 to-pink-600 min-h-[55vh] flex items-center justify-center overflow-hidden shadow-2xl">
        <div class="absolute inset-0 bg-hero-pattern opacity-10 pointer-events-none"></div>
        <div class="absolute inset-0 bg-black bg-opacity-40"></div>
        <div class="relative z-10 flex flex-col items-center justify-center w-full px-4 py-16 text-center animate-fade-in-up">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight text-white drop-shadow-lg mb-4">Giving</h1>
            <p class="text-xl md:text-2xl text-blue-100 max-w-2xl mx-auto mb-8 font-medium drop-shadow-md">Support the ministry and mission of Diet of the Word International Church. Your generosity makes a difference.</p>
        </div>
        <style>
            @keyframes fadeInUpHero {
                0% { opacity: 0; transform: translateY(40px); }
                100% { opacity: 1; transform: none; }
            }
            .animate-fade-in-up {
                opacity: 0;
                animation: fadeInUpHero 1.2s cubic-bezier(.4,0,.2,1) 0.2s forwards;
            }
            .bg-hero-pattern {
                background-image: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="40" fill="%23fff" fill-opacity="0.08"/></svg>');
                background-repeat: repeat;
            }
        </style>
    </section>

    <!-- Main Content -->
    <main class="min-h-screen">
        <!-- Hero Section -->
        <section class="relative bg-blue-900 text-white py-16 parallax-hero bg-cover bg-center bg-no-repeat" style="background-image: url('https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=1200&q=80');">
            <div class="container mx-auto px-4 relative z-10">
                <div class="max-w-4xl mx-auto text-center fade-in-up">
                    <h1 class="text-4xl md:text-5xl font-bold mb-6 drop-shadow-xl">Support Our Ministry</h1>
                    <p class="text-xl md:text-2xl mb-8">Your generous giving enables us to spread the Gospel and serve our community</p>
                    <div class="divider-gradient mx-auto mb-8"></div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12">
                        <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6 fade-in-up tilt">
                            <div class="text-3xl font-bold mb-2">Tithe</div>
                            <p class="text-white">Faithful giving of 10%</p>
                        </div>
                        <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6 fade-in-up tilt">
                            <div class="text-3xl font-bold mb-2">Offerings</div>
                            <p class="text-white">Additional gifts above tithe</p>
                        </div>
                        <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6 fade-in-up tilt">
                            <div class="text-3xl font-bold mb-2">Special Projects</div>
                            <p class="text-white">Building fund & missions</p>
                        </div>
                    </div>
                </div>
            </div>
            <button id="backToTop" aria-label="Back to top" class="fixed bottom-8 right-8 z-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-full shadow-lg opacity-0 pointer-events-none transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/></svg>
            </button>
        </section>

        <!-- Giving Form Section -->
        <section class="py-16">
            <div class="container mx-auto px-4">
                <div class="max-w-4xl mx-auto">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                        <!-- Giving Form -->
                        <div class="bg-white rounded-lg shadow-lg p-8">
                            <h2 class="text-3xl font-bold text-gray-800 mb-6">Make a Donation</h2>
                            <form id="givingForm" class="space-y-6">
                                <!-- Personal Information -->
                                <div class="space-y-4">
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Personal Information</h3>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label for="firstName" class="block text-sm font-medium text-gray-700 mb-2">First Name *</label>
                                            <input type="text" id="firstName" name="firstName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                        </div>
                                        <div>
                                            <label for="lastName" class="block text-sm font-medium text-gray-700 mb-2">Last Name *</label>
                                            <input type="text" id="lastName" name="lastName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                        </div>
                                    </div>
                                    <div>
                                        <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
                                        <input type="email" id="email" name="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                    </div>
                                    <div>
                                        <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                                        <input type="tel" id="phone" name="phone" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                    </div>
                                </div>
                                <!-- Giving Details -->
                                <div class="space-y-4">
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Giving Details</h3>
                                    <div>
                                        <label for="givingType" class="block text-sm font-medium text-gray-700 mb-2">Giving Type *</label>
                                        <select id="givingType" name="givingType" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                            <option value="">Select giving type</option>
                                            <option value="tithe">Tithe (10%)</option>
                                            <option value="offering">Offering</option>
                                            <option value="building-fund">Building Fund</option>
                                            <option value="missions">Missions</option>
                                            <option value="youth-ministry">Youth Ministry</option>
                                            <option value="children-ministry">Children's Ministry</option>
                                            <option value="benevolence">Benevolence Fund</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="amount" class="block text-sm font-medium text-gray-700 mb-2">Amount (KSH) *</label>
                                        <input type="number" id="amount" name="amount" min="1" step="0.01" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="Enter amount">
                                    </div>
                                    <div>
                                        <label for="frequency" class="block text-sm font-medium text-gray-700 mb-2">Frequency</label>
                                        <select id="frequency" name="frequency" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                            <option value="one-time">One Time</option>
                                            <option value="weekly">Weekly</option>
                                            <option value="monthly">Monthly</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="message" class="block text-sm font-medium text-gray-700 mb-2">Message (Optional)</label>
                                        <textarea id="message" name="message" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="Any special instructions or prayer requests"></textarea>
                                    </div>
                                </div>
                                <!-- Payment Method -->
                                <div class="space-y-4">
                                    <h3 class="text-xl font-semibold text-gray-700 mb-4">Payment Method</h3>
                                    <div class="space-y-3">
                                        <label class="flex items-center space-x-3 cursor-pointer">
                                            <input type="radio" name="paymentMethod" value="mpesa" checked class="w-4 h-4 text-primary border-gray-300 focus:ring-primary">
                                            <span class="text-gray-700">M-Pesa Mobile Money</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer">
                                            <input type="radio" name="paymentMethod" value="bank" class="w-4 h-4 text-primary border-gray-300 focus:ring-primary">
                                            <span class="text-gray-700">Bank Transfer</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer">
                                            <input type="radio" name="paymentMethod" value="cash" class="w-4 h-4 text-primary border-gray-300 focus:ring-primary">
                                            <span class="text-gray-700">Cash/Check (Sunday Service)</span>
                                        </label>
                                    </div>
                                </div>
                                <!-- Privacy and Terms -->
                                <div class="space-y-4">
                                    <div class="flex items-start space-x-3">
                                        <input type="checkbox" id="privacy" name="privacy" required class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mt-1">
                                        <label for="privacy" class="text-sm text-gray-600">
                                            I agree to the <a href="#" class="text-primary hover:underline">Privacy Policy</a> and 
                                            <a href="#" class="text-primary hover:underline">Terms of Service</a> *
                                        </label>
                                    </div>
                                    <div class="flex items-start space-x-3">
                                        <input type="checkbox" id="anonymous" name="anonymous" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mt-1">
                                        <label for="anonymous" class="text-sm text-gray-600">
                                            Make this donation anonymous
                                        </label>
                                    </div>
                                </div>
                                <!-- Submit Button -->
                                <button type="submit" class="w-full bg-primary hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition duration-300 transform hover:scale-105">
                                    Proceed to Payment
                                </button>
                            </form>
                        </div>
                        <!-- Giving Information -->
                        <div class="space-y-8">
                            <!-- Biblical Giving -->
                            <div class="bg-white rounded-lg shadow-lg p-8">
                                <h3 class="text-2xl font-bold text-gray-800 mb-4">Biblical Giving</h3>
                                <div class="space-y-4 text-gray-800">
                                    <p>"Bring the whole tithe into the storehouse, that there may be food in my house. Test me in this," says the LORD Almighty, "and see if I will not throw open the floodgates of heaven and pour out so much blessing that there will not be room enough to store it."</p>
                                    <p class="text-sm text-gray-500">- Malachi 3:10</p>
                                    <p>"Each of you must give as you have made up your mind, not reluctantly or under compulsion, for God loves a cheerful giver."</p>
                                    <p class="text-sm text-gray-500">- 2 Corinthians 9:7</p>
                                </div>
                            </div>
                            <!-- Giving Categories -->
                            <div class="bg-white rounded-lg shadow-lg p-8">
                                <h3 class="text-2xl font-bold text-gray-800 mb-4">Giving Categories</h3>
                                <div class="space-y-4">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-3 h-3 bg-primary rounded-full"></div>
                                        <span class="text-gray-700">Tithe (10% of income)</span>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <div class="w-3 h-3 bg-secondary rounded-full"></div>
                                        <span class="text-gray-700">Offerings (Above tithe)</span>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <div class="w-3 h-3 bg-accent rounded-full"></div>
                                        <span class="text-gray-700">Building Fund</span>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                        <span class="text-gray-700">Missions & Outreach</span>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <div class="w-3 h-3 bg-purple-500 rounded-full"></div>
                                        <span class="text-gray-700">Youth & Children's Ministry</span>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <div class="w-3 h-3 bg-pink-500 rounded-full"></div>
                                        <span class="text-gray-700">Benevolence Fund</span>
                                    </div>
                                </div>
                            </div>
                            <!-- Payment Methods -->
                            <div class="bg-white rounded-lg shadow-lg p-8">
                                <h3 class="text-2xl font-bold text-gray-800 mb-4">Payment Methods</h3>
                                <div class="space-y-4">
                                    <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                                        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                            <span class="text-white font-bold text-sm">M</span>
                                        </div>
                                        <div>
                                            <div class="font-semibold text-gray-800">M-Pesa</div>
                                            <div class="text-sm text-gray-600">Mobile money transfer</div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                                            <span class="text-white font-bold text-sm">B</span>
                                        </div>
                                        <div>
                                            <div class="font-semibold text-gray-800">Bank Transfer</div>
                                            <div class="text-sm text-gray-600">Direct bank deposit</div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                                        <div class="w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center">
                                            <span class="text-white font-bold text-sm">C</span>
                                        </div>
                                        <div>
                                            <div class="font-semibold text-gray-800">Cash/Check</div>
                                            <div class="text-sm text-gray-600">Sunday service collection</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Contact Information -->
                            <div class="bg-white rounded-lg shadow-lg p-8">
                                <h3 class="text-2xl font-bold text-gray-800 mb-4">Need Help?</h3>
                                <div class="space-y-3 text-gray-800">
                                    <p>If you have questions about giving or need assistance, please contact us:</p>
                                    <div class="space-y-2">
                                        <div class="flex items-center space-x-2">
                                            <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                                                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                                            </svg>
                                            <span>finance@dietofthewordchurch.org</span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
                                            </svg>
                                            <span>+254 700 000 000</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Testimonials Section -->
        <section class="bg-gray-100 py-16">
            <div class="container mx-auto px-4">
                <div class="max-w-4xl mx-auto text-center">
                    <h2 class="text-3xl font-bold text-gray-800 mb-12">What Our Members Say</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-white rounded-lg shadow-lg p-8">
                            <div class="text-yellow-400 text-2xl mb-4">★★★★★</div>
                            <p class="text-gray-800 mb-4">"Giving has been a blessing to our family. We've seen God's faithfulness in our finances since we started tithing faithfully."</p>
                            <div class="font-semibold text-gray-800">- Sarah Muthoni</div>
                        </div>
                        <div class="bg-white rounded-lg shadow-lg p-8">
                            <div class="text-yellow-400 text-2xl mb-4">★★★★★</div>
                            <p class="text-gray-800 mb-4">"The online giving platform makes it so convenient to support the ministry. I can give anytime, anywhere."</p>
                            <div class="font-semibold text-gray-800">- John Kamau</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-blue-900 via-purple-900 to-blue-800 text-white py-12 mt-20">
      <div class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-8">
        <!-- Logo and Mission -->
        <div class="flex flex-col items-center md:items-start text-center md:text-left gap-3">
          <img src="assets/images/Diet logo 2.png" alt="Diet of the Word International Church Logo" class="w-16 h-16 object-contain mb-2">
          <div class="font-extrabold text-xl tracking-wide">Diet of the Word International Church</div>
          <div class="text-blue-200 text-sm max-w-xs">Nourishing lives with the Word of God, building a Christ-centered community in Nairobi and beyond.</div>
        </div>
        <!-- Quick Links -->
        <div class="flex flex-col gap-2 text-center md:text-left">
          <div class="font-bold mb-2 text-blue-100 uppercase tracking-wider">Quick Links</div>
          <div class="flex flex-wrap gap-4 justify-center md:justify-start">
            <a href="about.html" class="hover:text-purple-300">About</a>
            <a href="leadership.html" class="hover:text-purple-300">Leadership</a>
            <a href="ministries/adults.html" class="hover:text-purple-300">Ministries</a>
            <a href="events.html" class="hover:text-purple-300">Events</a>
            <a href="gallery.html" class="hover:text-purple-300">Gallery</a>
            <a href="giving.html" class="hover:text-purple-300">Giving</a>
            <a href="contact.html" class="hover:text-purple-300">Contact</a>
            <a href="#" class="hover:text-purple-300">Privacy Policy</a>
          </div>
        </div>
        <!-- Social & Copyright -->
        <div class="flex flex-col items-center md:items-end gap-3">
          <div class="flex gap-4 mb-2">
            <a href="https://web.facebook.com/dietofthewordchurch" aria-label="Facebook" class="hover:text-blue-400" target="_blank"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M22.675 0h-21.35C.595 0 0 .592 0 1.326v21.348C0 23.408.595 24 1.325 24h11.495v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.797.143v3.24l-1.918.001c-1.504 0-1.797.715-1.797 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116C23.406 24 24 23.408 24 22.674V1.326C24 .592 23.406 0 22.675 0"/></svg></a>
            <a href="https://twitter.com/dietchurchKE" aria-label="Twitter" class="hover:text-blue-400" target="_blank"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557a9.93 9.93 0 0 1-2.828.775 4.932 4.932 0 0 0 2.165-2.724c-.951.564-2.005.974-3.127 1.195A4.916 4.916 0 0 0 16.616 3c-2.717 0-4.924 2.206-4.924 4.924 0 .386.044.763.127 1.124C7.728 8.807 4.1 6.884 1.671 3.965c-.423.724-.666 1.561-.666 2.475 0 1.708.87 3.216 2.188 4.099a4.904 4.904 0 0 1-2.229-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.936 4.936 0 0 1-2.224.084c.627 1.956 2.444 3.377 4.6 3.417A9.867 9.867 0 0 1 0 21.543a13.94 13.94 0 0 0 7.548 2.212c9.058 0 14.009-7.513 14.009-14.009 0-.213-.005-.425-.014-.636A10.012 10.012 0 0 0 24 4.557z"/></svg></a>
            <a href="https://www.instagram.com/dietofthewordchurch/?hl=en" aria-label="Instagram" class="hover:text-pink-400" target="_blank"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.334 3.608 1.308.974.974 1.246 2.241 1.308 3.608.058 1.266.069 1.646.069 4.85s-.012 3.584-.07 4.85c-.062 1.366-.334 2.633-1.308 3.608-.974.974-2.241 1.246-3.608 1.308-1.266.058-1.646.069-4.85.069s-3.584-.012-4.85-.07c-1.366-.062-2.633-.334-3.608-1.308-.974-.974-1.246-2.241-1.308-3.608.058-1.266.069-1.646.069-4.85s-.012-3.584-.07-4.85c-.062-1.366-.334-2.633-1.308-3.608-.974-.974-2.241-1.246-3.608-1.308C15.647.012 15.267 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998zm7.2-10.406a1.44 1.44 0 1 0 0 2.88 1.44 1.44 0 0 0 0-2.88z"/></svg></a>
            <a href="https://www.youtube.com/@DietOfTheWordChurch" aria-label="YouTube" class="hover:text-red-600" target="_blank"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
          </div>
          <div class="text-blue-200 text-sm">Nairobi, Kenya</div>
          <div class="text-blue-200 text-xs">&copy; 2025 Diet of the Word International Church. All rights reserved.</div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="assets/js/config.js"></script>
    <script src="assets/js/utils.js"></script>
    <script src="assets/js/mpesa.js"></script>
    <script src="assets/js/main.js"></script>
    
    <script>
        // Initialize giving form
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize giving form
            const givingForm = document.getElementById('givingForm');
            if (givingForm) {
                givingForm.addEventListener('submit', handleGivingSubmit);
            }
        });

        function handleGivingSubmit(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData);
            
            // Validate form
            if (!validateGivingForm(data)) {
                return;
            }
            
            // Show loading
            showLoading();
            
            // Process payment based on method
            if (data.paymentMethod === 'mpesa') {
                processMpesaPayment(data);
            } else if (data.paymentMethod === 'bank') {
                processBankTransfer(data);
            } else {
                processCashPayment(data);
            }
        }

        function validateGivingForm(data) {
            const required = ['firstName', 'lastName', 'email', 'givingType', 'amount'];
            
            for (let field of required) {
                if (!data[field] || data[field].trim() === '') {
                    showModal('Error', `Please fill in the ${field.replace(/([A-Z])/g, ' $1').toLowerCase()} field.`);
                    return false;
                }
            }
            
            if (data.amount <= 0) {
                showModal('Error', 'Please enter a valid amount.');
                return false;
            }
            
            if (!data.privacy) {
                showModal('Error', 'Please agree to the Privacy Policy and Terms of Service.');
                return false;
            }
            
            return true;
        }

        function processMpesaPayment(data) {
            // Simulate M-Pesa payment process
            setTimeout(() => {
                hideLoading();
                showModal('Success', 'M-Pesa payment initiated. Please check your phone for the payment prompt.', 'success');
            }, 2000);
        }

        function processBankTransfer(data) {
            // Show bank details
            hideLoading();
            showModal('Bank Transfer Details', 
                'Please transfer to:<br><br>' +
                'Bank: Equity Bank<br>' +
                'Account: Diet of the Word International Church<br>' +
                'Account No: 1234567890<br>' +
                'Reference: ' + generateReference(), 'info');
        }

        function processCashPayment(data) {
            hideLoading();
            showModal('Cash Payment', 
                'Thank you for your commitment to give. Please bring your donation to the Sunday service or contact the church office for arrangements.', 'info');
        }

        function generateReference() {
            return 'DWC' + Date.now().toString().slice(-6);
        }

        // Parallax effect for hero
        window.addEventListener('scroll', function() {
            const hero = document.querySelector('.parallax-hero');
            if (hero) {
                hero.style.backgroundPositionY = `${window.scrollY * 0.4}px`;
            }
        });

        // Back to Top button
        const backToTop = document.getElementById('backToTop');
        window.addEventListener('scroll', function() {
            if (window.scrollY > 300) {
                backToTop.classList.add('opacity-100', 'pointer-events-auto', 'floating');
                backToTop.classList.remove('opacity-0', 'pointer-events-none');
            } else {
                backToTop.classList.remove('opacity-100', 'pointer-events-auto', 'floating');
                backToTop.classList.add('opacity-0', 'pointer-events-none');
            }
        });

        backToTop.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Animate on scroll
        function animateOnScroll() {
            const elements = document.querySelectorAll('.fade-in-up');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        entry.target.style.animationDelay = entry.target.dataset.delay || '0s';
                    }
                });
            }, { threshold: 0.1 });
            elements.forEach(el => { observer.observe(el); });
        }
        document.addEventListener('DOMContentLoaded', animateOnScroll);

        // Tilt effect for info cards
        function addTiltEffect() {
            document.querySelectorAll('.tilt').forEach(card => {
                card.addEventListener('mousemove', function(e) {
                    const rect = this.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    const rotateX = ((y - centerY) / centerY) * 6;
                    const rotateY = ((x - centerX) / centerX) * -6;
                    this.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                });
                card.addEventListener('mouseleave', function() {
                    this.style.transform = '';
                });
            });
        }
        document.addEventListener('DOMContentLoaded', addTiltEffect);

        // Ripple effect for submit button
        const submitBtn = document.querySelector('button[type="submit"]');
        if (submitBtn) {
            submitBtn.addEventListener('click', function(e) {
                const ripple = document.createElement('span');
                ripple.className = 'ripple';
                const rect = this.getBoundingClientRect();
                ripple.style.left = `${e.clientX - rect.left}px`;
                ripple.style.top = `${e.clientY - rect.top}px`;
                ripple.style.width = ripple.style.height = `${rect.width / 2}px`;
                this.appendChild(ripple);
                setTimeout(() => ripple.remove(), 600);
            });
        }

        // Loading spinner on submit
        function showLoading() {
            if (submitBtn) {
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<svg class="animate-spin h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path></svg>';
            }
        }
        function hideLoading() {
            if (submitBtn) {
                submitBtn.disabled = false;
                submitBtn.innerHTML = 'Proceed to Payment';
            }
        }
    </script>
</body>
</html> 