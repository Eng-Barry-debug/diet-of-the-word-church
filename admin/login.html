<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Login | Diet of the Word Church</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="/assets/css/custom.css" rel="stylesheet">
</head>
<body class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-700 via-purple-600 to-pink-400 dark:from-gray-900 dark:via-blue-900 dark:to-purple-900 relative overflow-hidden">
  <!-- Animated/Blurred Background Shapes -->
  <div class="absolute inset-0 z-0 pointer-events-none select-none">
    <div class="absolute -top-32 -left-32 w-96 h-96 bg-pink-400 opacity-30 rounded-full blur-3xl animate-pulse-slow"></div>
    <div class="absolute -bottom-32 -right-32 w-96 h-96 bg-blue-500 opacity-30 rounded-full blur-3xl animate-pulse-slow"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[400px] bg-purple-400 opacity-20 rounded-3xl blur-2xl animate-pulse-slower"></div>
  </div>
  <!-- Login Card -->
  <main class="relative z-10 w-full max-w-md mx-auto p-0 flex flex-col items-center">
    <div class="w-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/40 dark:border-gray-800/60 p-8 md:p-10 flex flex-col items-center animate-fade-in-up">
      <img src="/assets/images/logo.png" alt="Diet of the Word Church Logo" class="w-20 h-20 mb-4 drop-shadow-xl" onerror="this.style.display='none'">
      <h1 class="text-3xl font-extrabold text-center mb-2 text-blue-800 dark:text-blue-200 tracking-tight">Diet of the Word Church</h1>
      <p class="text-center text-gray-500 dark:text-gray-400 mb-8 text-base">Admin Portal Login</p>
      <!-- Social Login -->
      <div class="flex flex-col gap-3 w-full mb-6">
        <button type="button" class="flex items-center justify-center gap-3 w-full py-2 rounded-xl border border-gray-200 dark:border-gray-700 bg-white/90 dark:bg-gray-800/90 hover:bg-blue-50 dark:hover:bg-blue-900 shadow-md font-semibold text-gray-700 dark:text-gray-200 transition">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg" alt="Google" class="w-5 h-5"> Sign in with Google
        </button>
        <button type="button" class="flex items-center justify-center gap-3 w-full py-2 rounded-xl border border-gray-200 dark:border-gray-700 bg-white/90 dark:bg-gray-800/90 hover:bg-blue-50 dark:hover:bg-blue-900 shadow-md font-semibold text-gray-700 dark:text-gray-200 transition">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/facebook/facebook-original.svg" alt="Facebook" class="w-5 h-5"> Sign in with Facebook
        </button>
      </div>
      <div class="flex items-center gap-2 w-full mb-6">
        <div class="flex-1 h-px bg-gray-200 dark:bg-gray-700"></div>
        <span class="text-xs text-gray-400">or</span>
        <div class="flex-1 h-px bg-gray-200 dark:bg-gray-700"></div>
      </div>
      <form class="space-y-6 w-full" autocomplete="off" id="login-form">
        <div class="floating-label relative mb-2">
          <input type="email" id="email" name="email" required placeholder=" " autocomplete="username" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-gray-800 dark:text-gray-100 transition placeholder-transparent" />
          <label for="email">Email</label>
        </div>
        <div class="floating-label relative mb-2">
          <input type="password" id="password" name="password" required minlength="6" placeholder=" " autocomplete="current-password" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-gray-800 dark:text-gray-100 transition pr-12 placeholder-transparent" />
          <label for="password">Password</label>
          <button type="button" id="toggle-password" tabindex="-1" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-300 focus:outline-none">
            <svg id="eye-icon" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M15 12a3 3 0 1 1-6 0a3 3 0 0 1 6 0z"/><path d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
          </button>
        </div>
        <div class="flex items-center justify-between mb-2">
          <label class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300">
            <input type="checkbox" class="rounded border-gray-300 dark:border-gray-700 focus:ring-blue-500 dark:focus:ring-blue-400" name="remember" />
            Remember me
          </label>
          <a href="#" class="text-blue-600 dark:text-blue-300 text-sm hover:underline">Forgot password?</a>
        </div>
        <button type="submit" class="w-full bg-gradient-to-r from-blue-700 to-purple-600 hover:from-blue-800 hover:to-pink-500 text-white font-semibold py-3 rounded-xl shadow-lg flex items-center justify-center gap-2 transition-all disabled:opacity-60 text-lg" id="login-btn">
          <span>Login</span>
          <svg id="spinner" class="w-5 h-5 animate-spin hidden" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke-opacity="0.2"/><path d="M12 2a10 10 0 0 1 10 10"/></svg>
        </button>
      </form>
      <!-- 2FA Modal -->
      <div id="modal-2fa" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden">
        <div class="bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/40 dark:border-gray-800/60 w-full max-w-sm p-8 animate-fade-in-up relative">
          <button class="absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl leading-none" onclick="document.getElementById('modal-2fa').classList.add('hidden')">&times;</button>
          <h2 class="text-xl font-bold mb-4 text-blue-700 dark:text-blue-300">Two-Factor Authentication</h2>
          <p class="mb-4 text-gray-500 dark:text-gray-400">Enter the 6-digit code sent to your email or phone.</p>
          <form id="form-2fa" class="space-y-4">
            <input type="text" id="code-2fa" maxlength="6" pattern="[0-9]{6}" required class="w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-center text-lg tracking-widest bg-white/80 dark:bg-gray-800/80" placeholder="------" autocomplete="one-time-code" />
            <div class="flex items-center justify-between">
              <button type="button" id="resend-2fa" class="text-blue-600 dark:text-blue-300 text-sm hover:underline">Resend Code</button>
              <button type="submit" class="bg-gradient-to-r from-blue-700 to-purple-600 text-white px-5 py-2 rounded-xl shadow hover:scale-105 transition-transform">Verify</button>
            </div>
            <div id="error-2fa" class="text-red-500 text-sm mt-2 hidden">Invalid code. Please try again.</div>
          </form>
        </div>
      </div>
      <!-- Toast Notification -->
      <div id="toast" class="fixed top-8 right-8 z-50 hidden">
        <div class="bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-fade-in">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M6 18L18 6M6 6l12 12"/></svg>
          <span id="toast-msg">Invalid credentials. Please try again.</span>
        </div>
      </div>
      <!-- Success Toast -->
      <div id="toast-success" class="fixed top-8 right-8 z-50 hidden">
        <div class="bg-gradient-to-r from-green-500 to-blue-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-fade-in">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>
          <span id="toast-success-msg">Login successful! Redirecting...</span>
        </div>
      </div>
    </div>
    <div class="mt-8 text-xs text-white/80 text-center w-full">&copy; 2024 Diet of the Word Church. All rights reserved.</div>
  </main>
  <script>
    // Floating label polyfill for Safari and not-empty class
    document.querySelectorAll('.floating-label input').forEach(input => {
      input.addEventListener('blur', function() {
        if (this.value) this.classList.add('not-empty');
        else this.classList.remove('not-empty');
      });
      // On page load, set not-empty if value exists
      if (input.value) input.classList.add('not-empty');
    });
    // Password visibility toggle
    document.getElementById('toggle-password').onclick = function() {
      const pwd = document.getElementById('password');
      const eye = document.getElementById('eye-icon');
      if (pwd.type === 'password') {
        pwd.type = 'text';
        eye.innerHTML = '<path d="M13.875 18.825A10.05 10.05 0 0 1 12 19c-4.477 0-8.268-2.943-9.542-7a9.956 9.956 0 0 1 4.422-5.568M15 12a3 3 0 1 0-6 0a3 3 0 0 0 6 0z"/><path d="M3 3l18 18"/>';
      } else {
        pwd.type = 'password';
        eye.innerHTML = '<path d="M15 12a3 3 0 1 1-6 0a3 3 0 0 1 6 0z"/><path d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268-2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>';
      }
    };
    // Social login (placeholder)
    document.querySelectorAll('button').forEach(btn => {
      if(btn.textContent.includes('Google')) {
        btn.onclick = () => showSuccess('Google login successful! Redirecting...');
      }
      if(btn.textContent.includes('Facebook')) {
        btn.onclick = () => showSuccess('Facebook login successful! Redirecting...');
      }
    });
    // Login form submit with custom error handling and 2FA
    document.getElementById('login-form').onsubmit = function(e) {
      e.preventDefault();
      const btn = document.getElementById('login-btn');
      const spinner = document.getElementById('spinner');
      btn.disabled = true;
      spinner.classList.remove('hidden');
      setTimeout(() => {
        spinner.classList.add('hidden');
        btn.disabled = false;
        // Placeholder: check credentials
        const email = document.getElementById('email').value;
        const pwd = document.getElementById('password').value;
        if(email === 'locked@example.com') {
          showToast('Account is locked. Please contact support.');
        } else if(email === 'admin@example.com' && pwd === 'password123') {
          // Show 2FA modal
          document.getElementById('modal-2fa').classList.remove('hidden');
          document.getElementById('code-2fa').focus();
        } else {
          showToast('Invalid credentials. Please try again.');
        }
      }, 1200);
    };
    // 2FA form submit
    document.getElementById('form-2fa').onsubmit = function(e) {
      e.preventDefault();
      const code = document.getElementById('code-2fa').value;
      const error = document.getElementById('error-2fa');
      if(code === '123456') {
        document.getElementById('modal-2fa').classList.add('hidden');
        showSuccess('Login successful! Redirecting...');
        setTimeout(() => window.location.href = 'index.html', 1500);
      } else {
        error.classList.remove('hidden');
        setTimeout(() => error.classList.add('hidden'), 2000);
      }
    };
    // Resend 2FA code (placeholder)
    document.getElementById('resend-2fa').onclick = function() {
      showSuccess('A new code has been sent.');
    };
    // Toast functions
    function showToast(msg) {
      const toast = document.getElementById('toast');
      document.getElementById('toast-msg').textContent = msg;
      toast.classList.remove('hidden');
      setTimeout(() => toast.classList.add('hidden'), 3000);
    }
    function showSuccess(msg) {
      const toast = document.getElementById('toast-success');
      document.getElementById('toast-success-msg').textContent = msg;
      toast.classList.remove('hidden');
      setTimeout(() => toast.classList.add('hidden'), 2000);
    }
    // Dark mode auto
    if(window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.documentElement.classList.add('dark');
    }
  </script>
</body>
</html>
